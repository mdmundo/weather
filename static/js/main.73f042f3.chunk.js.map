{"version":3,"sources":["App.js","index.js"],"names":["Copyright","Typography","variant","color","align","Link","href","Date","getFullYear","useStyles","makeStyles","theme","root","display","flexDirection","minHeight","main","marginTop","spacing","marginBottom","avatar","margin","backgroundColor","palette","secondary","upper","alignItems","footer","padding","type","grey","form","width","submit","search","input","marginLeft","flex","iconButton","paper","overflow","grid","paddingTop","depositContext","App","useState","address","setAddress","value","undefined","units","temperature","setTemperature","moonPhase","setMoonPhase","sunset","setSunset","sunrise","setSunrise","humidity","setHumidity","searchAddress","e","a","preventDefault","length","axios","get","location","data","lat","features","geometry","coordinates","lon","forecast","temp","moon_phase","classes","className","CssBaseline","Container","component","maxWidth","Avatar","onSubmit","noValidate","Paper","InputBase","id","name","onChange","target","placeholder","IconButton","aria-label","Button","onClick","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","err","console","warn","code","message","fullWidth","Grid","item","moment","diff","fromNow","format","Index","StrictMode","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.73f042f3.chunk.js","sourcesContent":["import { useState } from 'react';\nimport axios from 'axios';\nimport moment from 'moment';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CloudIcon from '@material-ui/icons/Cloud';\nimport Container from '@material-ui/core/Container';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport IconButton from '@material-ui/core/IconButton';\nimport InputBase from '@material-ui/core/InputBase';\nimport Grid from '@material-ui/core/Grid';\nimport Link from '@material-ui/core/Link';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport SearchIcon from '@material-ui/icons/Search';\n\nconst Copyright = () => {\n  return (\n    <Typography variant='body2' color='textSecondary' align='center'>\n      {'Created by '}\n      <Link color='inherit' href='https://github.com/mdmundo'>\n        Edmundo Paulino\n      </Link>{' '}\n      {new Date().getFullYear()}\n      {'.'}\n    </Typography>\n  );\n};\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    minHeight: '100vh'\n  },\n  main: {\n    marginTop: theme.spacing(8),\n    marginBottom: theme.spacing(2)\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main\n  },\n  upper: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  footer: {\n    padding: theme.spacing(3, 2),\n    marginTop: 'auto',\n    backgroundColor:\n      theme.palette.type === 'light'\n        ? theme.palette.grey[200]\n        : theme.palette.grey[800]\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(6)\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2)\n  },\n  search: {\n    display: 'flex'\n  },\n  input: {\n    marginLeft: theme.spacing(1.5),\n    flex: 1\n  },\n  iconButton: {\n    padding: 10\n  },\n  paper: {\n    padding: theme.spacing(2),\n    display: 'flex',\n    overflow: 'auto',\n    flexDirection: 'column'\n  },\n  grid: {\n    paddingTop: theme.spacing(1.5)\n  },\n  depositContext: {\n    flex: 1\n  }\n}));\n\nconst App = () => {\n  const [address, setAddress] = useState('');\n  const [temperature, setTemperature] = useState({\n    value: undefined,\n    units: undefined\n  });\n  const [moonPhase, setMoonPhase] = useState({ value: undefined });\n  const [sunset, setSunset] = useState({ value: undefined });\n  const [sunrise, setSunrise] = useState({ value: undefined });\n  const [humidity, setHumidity] = useState({\n    value: undefined,\n    units: undefined\n  });\n\n  const useLocation = () => {\n    navigator.geolocation.getCurrentPosition(\n      async (position) => {\n        const lat = position.coords.latitude;\n        const lon = position.coords.longitude;\n\n        const { data: forecast } = await axios.get(\n          `https://api.climacell.co/v3/weather/realtime?unit_system=si&apikey=sGBGNcAnaxVc8aNVwHRDMPnspYxhTdW3&lat=${lat}&lon=${lon}&fields=moon_phase,surface_shortwave_radiation,visibility,sunset,sunrise,humidity,dewpoint,feels_like,temp,wind_speed,fire_index`\n        );\n\n        setTemperature(forecast.temp);\n        setHumidity(forecast.humidity);\n        setMoonPhase(forecast.moon_phase);\n        setSunrise(forecast.sunrise);\n        setSunset(forecast.sunset);\n      },\n      (err) => {\n        console.warn(`ERROR(${err.code}): ${err.message}`);\n      }\n    );\n  };\n\n  const searchAddress = async (e) => {\n    e.preventDefault();\n    if (address.length < 4) return;\n\n    const { data: location } = await axios.get(\n      `https://api.mapbox.com/geocoding/v5/mapbox.places/${address}.json?access_token=pk.eyJ1IjoibWRtdW5kbyIsImEiOiJjazdkYmUwOGgxbnBlM2ZudTU0ajM1OHhrIn0.hOVUTlxOg_sIww36kjeBiw&limit=1`\n    );\n\n    const lat = location.features[0].geometry.coordinates[1];\n    const lon = location.features[0].geometry.coordinates[0];\n\n    const { data: forecast } = await axios.get(\n      `https://api.climacell.co/v3/weather/realtime?unit_system=si&apikey=sGBGNcAnaxVc8aNVwHRDMPnspYxhTdW3&lat=${lat}&lon=${lon}&fields=moon_phase,surface_shortwave_radiation,visibility,sunset,sunrise,humidity,dewpoint,feels_like,temp,wind_speed,fire_index`\n    );\n\n    setTemperature(forecast.temp);\n    setHumidity(forecast.humidity);\n    setMoonPhase(forecast.moon_phase);\n    setSunrise(forecast.sunrise);\n    setSunset(forecast.sunset);\n\n    setAddress('');\n  };\n\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      <Container component='main' className={classes.main} maxWidth='xs'>\n        <div className={classes.upper}>\n          <Avatar className={classes.avatar}>\n            <CloudIcon />\n          </Avatar>\n          <Typography component='h1' variant='h3'>\n            Weather\n          </Typography>\n          <form className={classes.form} onSubmit={searchAddress} noValidate>\n            <Paper className={classes.search}>\n              <InputBase\n                value={address}\n                id='address'\n                name='address'\n                onChange={(e) => setAddress(e.target.value)}\n                className={classes.input}\n                placeholder='Search Address'\n              />\n              <IconButton\n                type='submit'\n                className={classes.iconButton}\n                aria-label='search'>\n                <SearchIcon />\n              </IconButton>\n            </Paper>\n          </form>\n          <Button\n            onClick={useLocation}\n            type='submit'\n            fullWidth\n            variant='contained'\n            color='primary'\n            className={classes.submit}>\n            Use my current location\n          </Button>\n        </div>\n        <Grid item className={classes.grid}>\n          <Paper className={classes.paper}>\n            <div>\n              <Typography component='p' variant='h2'>\n                {temperature.value\n                  ? `${temperature.value} º${temperature.units}`\n                  : '... ºC'}\n              </Typography>\n              <Typography\n                component='p'\n                variant='caption'\n                color='textSecondary'\n                className={classes.depositContext}>\n                {humidity.value\n                  ? `Humidity is ${humidity.value}${humidity.units}.`\n                  : 'Humidity...'}\n              </Typography>\n              <Typography\n                component='p'\n                variant='caption'\n                color='textSecondary'\n                className={classes.depositContext}>\n                {moonPhase.value\n                  ? `Moon phase is ${moonPhase.value}.`\n                  : 'Moon phase...'}\n              </Typography>\n              <Typography\n                component='p'\n                variant='caption'\n                color='textSecondary'\n                className={classes.depositContext}>\n                {sunrise.value\n                  ? `Sunrise ${\n                      moment(sunrise.value).diff(moment()) < 0\n                        ? 'was'\n                        : 'will be'\n                    } ${moment(sunrise.value).fromNow()}. Exactly at ${moment(\n                      sunrise.value\n                    ).format('HH:mm:ss')}.`\n                  : 'Sunrise...'}\n              </Typography>\n              <Typography\n                component='p'\n                variant='caption'\n                color='textSecondary'\n                className={classes.depositContext}>\n                {sunset.value\n                  ? `Sunset ${\n                      moment(sunset.value).diff(moment()) < 0\n                        ? 'was'\n                        : 'will be'\n                    } ${moment(sunset.value).fromNow()}. Exactly at ${moment(\n                      sunset.value\n                    ).format('HH:mm:ss')}.`\n                  : 'Sunset...'}\n              </Typography>\n            </div>\n          </Paper>\n        </Grid>\n      </Container>\n      <footer className={classes.footer}>\n        <Container maxWidth='xs'>\n          <Copyright />\n        </Container>\n      </footer>\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nconst Index = () => {\n  return (\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  );\n};\n\nReactDOM.render(<Index />, document.getElementById('root'));\n"],"sourceRoot":""}